!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=ELEMENT},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(14).default)("311e7b4e",r,!1,{})},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,l){var s,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=s):o&&(s=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var c=u.render;u.render=function(e,t){return s.call(t),c(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,s):[s]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=Vue},function(e,t){e.exports=UCloudUFile},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^\[object File\]$/.test(Object.prototype.toString.call(t))){e.next=31;break}if(isNaN(r)&&(r=1024e3),a="",-1!==(l=t.name.lastIndexOf("."))&&(a=t.name.substring(l)),s=a?a.substring(1):t.type&&t.type.split("/")[0],!t.type&&!a){e.next=22;break}if(isNaN(r)&&(/^\.(png|jpe?g|gif|svg|webp)/.test(a)||/^image/.test(t.type)?r=10240:(/^\.(ogg|mp3|wav|flac|aac)/.test(a)||/^audio/.test(t.type))&&(r=102400)),!/^\[object String\]$/.test(Object.prototype.toString.call(n))||""===n||n.split(",").some((function(e){return(e=e.trim())&&(new RegExp("^".concat(e)).test(t.type)||new RegExp("^".concat(e)).test(a))}))){e.next=11;break}return e.abrupt("return",{message:"只能上传".concat(n,"!"),error:1,validation:!1});case 11:if(!/^\.(png|jpe?g|gif|svg|webp)/.test(a)&&!/^image/.test(t.type)||isNaN(o)&&isNaN(i)){e.next=20;break}return e.prev=12,e.next=15,new Promise((function(e,n){var r=new Image;r.onload=function(){var t="";!isNaN(o)&&r.width>Number(o)&&(t+="图片宽度不能超过".concat(o)),!isNaN(i)&&r.height>Number(i)&&(t&&(t+="，"),t+="图片高度不能超过".concat(i)),t?n({message:t,error:4,validation:!1}):e()},r.src=URL.createObjectURL(t)}));case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(12),e.abrupt("return",e.t0);case 20:e.next=24;break;case 22:if(!/^\[object String\]$/.test(Object.prototype.toString.call(n))||""===n){e.next=24;break}return e.abrupt("return",{message:"只能上传".concat(n,"!"),error:3,validation:!1});case 24:if(!r){e.next=29;break}if(r=Number(r),!(t.size/1024>r)){e.next=29;break}return u=r>=1024?"".concat(r/1024,"M"):"".concat(r,"KB"),e.abrupt("return",{message:"上传".concat(s,"大小不能超过").concat(u,"!"),error:2,validation:!1});case 29:e.next=32;break;case 31:return e.abrupt("return",{message:"file参数必须为File数据类型",error:1,validation:!1});case 32:return e.abrupt("return",{message:"",error:0,validation:!0});case 33:case"end":return e.stop()}}),e,null,[[12,17]])})),function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function l(e){n(a,o,i,l,s,"next",e)}function s(e){n(a,o,i,l,s,"throw",e)}l(void 0)}))});return function(e,n,r,o,i){return t.apply(this,arguments)}}()}])},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}({4:function(e,t){e.exports=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e)&&"[object String]"===Object.prototype.toString.call(t)&&""!==t){for(var r=t.split("."),o=0,i=r.length;"[object Object]"===Object.prototype.toString.call(e)&&o<i;)e=e[r[o++]];return o&&o==i?e:n}return n}}})},function(e,t,n){var r;window,e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"ElPopoverDialog",(function(){return o}));var r,o=n(2).default;function i(e){r?console.warn("[ElPopoverDialog] already installed. Vue.use(ElPopoverDialog) should be called only once."):(r=e).component(o.name,o)}o.install=i,"undefined"!=typeof window&&window.Vue&&i(window.Vue)},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",e._g(e._b({staticClass:"popover-dialog",staticStyle:{"font-size":"0px"},attrs:{placement:e.$attrs.placement||"top"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},"el-popover",e.$attrs,!1),e.$listeners),[e.popoverContentShow?n("p",{staticClass:"popover-content"},[e._v("\n    "+e._s(e.popoverContent)+"\n  ")]):e._e(),e._v(" "),e._t("popover-content",null,{hide:e.hide}),e._v(" "),e.showConfirmButton||e.showCancelButton?n("div",{staticClass:"popover-button",style:e.popoverButtonStyle},[e.showCancelButton?n("el-button",{staticClass:"cancel-button",attrs:{type:"text",size:"mini"},on:{click:e.cancel}},[e._v(e._s(e.cancelButtonText)+"\n    ")]):e._e(),e._v(" "),e.showConfirmButton?n("el-button",{staticClass:"confirm-button",attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v("\n      "+e._s(e.confirmButtonText)+"\n    ")]):e._e(),e._v(" "),e._t("popover-button",null,{hide:e.hide})],2):e._e(),e._v(" "),n("span",{staticClass:"reference",attrs:{slot:"reference"},slot:"reference"},[e.buttonShow?n("el-button",e._b({staticClass:"reference-button",style:e.buttonStyle,attrs:{size:e.buttonSize,type:e.buttonType}},"el-button",e.$attrs,!1),[e._v(e._s(e.buttonTxt)+"\n    ")]):e._e(),e._v(" "),e._t("reference",null,{hide:e.hide})],2)],2)};r._withStripped=!0;var o=n(0),i=function(e,t,n,r,o,i,a,l){var s,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=[],u._compiled=!0),s)if(u.functional){u._injectStyles=s;var c=u.render;u.render=function(e,t){return s.call(t),c(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,s):[s]}return{exports:e,options:u}}({name:"ElPopoverDialog",components:{"el-button":o.Button,"el-popover":o.Popover},inheritAttrs:!1,props:{popoverContentShow:{type:Boolean,default:!0},popoverContent:{type:String,default:"确认要删除？"},popoverButtonStyle:{type:String,default:"text-align: right; margin: 0"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},cancelButtonText:{type:String,default:"取消"},confirmButtonText:{type:String,default:"确定"},buttonShow:{type:Boolean,default:!0},buttonTxt:{type:String,default:"删除"},buttonType:{type:String,default:"text"},buttonSize:{type:String,default:""},buttonStyle:{type:String,default:"color:#f56c6c; margin-right: 0 !important;"},confirmHide:{type:Boolean,default:!0}},data:function(){return{visible:!1}},methods:{cancel:function(){this.visible=!1,this.$emit("cancel")},confirm:function(){this.confirmHide&&(this.visible=!1),this.$emit("confirm")},hide:function(e){this.visible=!1,/^\[object [^F]*Function\]$/.test(Object.prototype.toString.call(e))&&e()}}},r);i.options.__file="src/ElPopoverDialog.vue",t.default=i.exports}]).ElPopoverDialog)},function(e,t,n){"use strict";n.r(t),n.d(t,"ElSingleUpload",(function(){return o}));var r,o=n(13).default;function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof window&&window.ElSingleUploadOptions;r?console.warn("[ElSingleUpload] already installed. Vue.use(ElSingleUpload) should be called only once."):(r=e,"[object Object]"===Object.prototype.toString.call(t)&&/^\[object [^F]*Function\]$/.test(Object.prototype.toString.call(t.upload))&&Object.assign(o.props.upload,{required:!1,default:t.upload}),r.component(o.name,o))}o.install=i,"undefined"!=typeof window&&window.Vue&&i(window.Vue)},function(e,t,n){"use strict";var r=n(1);n.n(r).a},function(e,t,n){(e.exports=n(11)(!1)).push([e.i,".el-single-upload {\n  position: relative;\n  width: 300px;\n  display: inline-block;\n}\n.el-single-upload .view {\n  line-height: 1;\n  display: block;\n  border: 1px solid #d9d9d9;\n  width: calc(100% - 2px);\n  height: 100%;\n}\n.el-single-upload .upload {\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  position: relative;\n  line-height: 1;\n}\n.el-single-upload .el-upload-dragger {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n}\n.el-single-upload .el-upload-dragger .el-icon-upload {\n  font-size: 24px !important;\n  margin: 0 0 0 2px;\n  line-height: normal;\n}\n.el-single-upload.input .view {\n  height: calc(100% - 40px);\n}\n.el-single-upload.input .upload {\n  height: calc(100% - 40px);\n}\n.el-single-upload .el-upload__input {\n  display: none !important;\n}\n.el-single-upload .el-upload {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.el-single-upload .el-upload:hover {\n  border-color: #20a0ff;\n}\n.el-single-upload .upload.update {\n  position: absolute;\n  top: 0;\n  right: -28px;\n  z-index: 2;\n  width: auto;\n  height: auto;\n}\n.el-single-upload .upload.update .el-upload {\n  padding: 0 1px;\n  width: auto;\n  height: auto;\n  border-left: none;\n  border-radius: 0;\n}\n.el-single-upload .upload-btn {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 28px !important;\n}\n.el-single-upload .el-icon-upload {\n  font-size: 24px !important;\n  color: #8c939d;\n  background: #ffffff;\n}\n.el-single-upload .el-icon-upload:hover {\n  color: #20a0ff;\n}\n.el-single-upload .icon-delete {\n  position: absolute;\n  top: 28px;\n  right: -28px;\n  font-size: 24px !important;\n  cursor: pointer;\n  color: #8c939d;\n  border: 1px dashed #d9d9d9;\n  border-left: none;\n  padding: 0 1px;\n  line-height: 1;\n}\n.el-single-upload .icon-delete:hover {\n  border-color: #20a0ff;\n  color: #20a0ff;\n}\n.el-single-upload .icon-delete .el-icon-delete {\n  margin-left: 2px;\n}\n.el-single-upload .tip {\n  padding: 10px 0;\n  text-align: center;\n}\n.el-single-upload.image,\n.el-single-upload.video {\n  width: 200px;\n  height: 200px;\n}\n.el-single-upload.image .img,\n.el-single-upload.video .img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,l=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,l,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var a=0;a<e.length;a++){var l=e[a];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="(".concat(l[2],") and (").concat(n,")")),t.push(l))}},t}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("上传的mock演示，response永远是一样的数据")]),e._v(" "),n("el-single-upload",{attrs:{url:e.url,accept:"image/*","image-dimensions":{width:50,height:50}},on:{"update:url":function(t){e.url=t},blur:function(t){return e.eventLog("blur")},"request-upload":function(t){return e.eventLog("request-upload")},"delete-confirm":function(t){return e.eventLog("delete-confirm")}}})],1)};i._withStripped=!0;var a=n(4),l=new(n.n(a).a)("example-ucloud","https://private-87040-publicexample.apiary-mock.com/upload","https://private-87040-publicexample.apiary-mock.com/upload/token");function s(e){var t=e.file;if("[object File]"!==Object.prototype.toString.call(t))throw new Error("file参数必须为File数据类型");return new Promise((function(n,r){l.PREFIX="example/".concat(t.type);l.hitSliceUpload(t,(function(e){"[object Object]"!==Object.prototype.toString.call(e)&&(e={Key:t.name}),e.url="http://dummyimage.com/200x100/50B347/FFF&text=".concat(e.Key),console.log("success",e),n({data:e})}),(function(e){r(new Error("上传失败"))}),(function(t){"[object Object]"!==Object.prototype.toString.call(t)&&(t={value:0}),console.log("progress",t),t.percent=100*t.value,e.onProgress(t)}))}))}window.ElSingleUploadOptions={upload:s},n(8);var u={name:"App",data:function(){return{url:""}},computed:{upload:function(){return s}},methods:{eventLog:function(e){console.log(e)}}},c=n(2),p=Object(c.a)(u,i,[],!1,null,null,null);p.options.__file="example/components/App.vue";var d=p.exports;new o.a({el:"#app",render:function(e){return e(d)}})},function(e,t,n){"use strict";n.r(t);var r=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"el-single-upload",class:(e={},e[t.acceptClassName]=!0,e.input=t.input,e)},[t.view&&t.urlInternal?["video"===t.acceptClassName?r("video",{ref:"media",staticClass:"view",attrs:{controls:"",src:t.urlInternal}}):"audio"===t.acceptClassName?r("audio",{ref:"media",staticClass:"view",attrs:{controls:"",src:t.urlInternal}}):r("a",{staticClass:"view",attrs:{href:t.urlInternal,target:"_blank"}},["image"===t.acceptClassName?r("img",{staticClass:"img",attrs:{src:t.urlInternal}}):r("span",{staticStyle:{display:"inline-block",padding:"10px 15px"}},[t._v(t._s(t.file?t.file.name:t.urlInternal))])])]:t._e(),t._v(" "),100!==t.percentage?r("el-progress",{attrs:{percentage:t.percentage}}):t._e(),t._v(" "),t.$attrs.disabled?t._e():r("el-upload",t._b({ref:"upload",staticClass:"upload",class:{update:t.urlInternal},attrs:{action:"","before-upload":t.beforeUpload,"http-request":t.requestUpload,"on-progress":t.progressUpload,"on-success":t.successUpload,"on-error":t.errorUpload,accept:t.accept,drag:t.drag,multiple:!1,"show-file-list":!1}},"el-upload",t.$attrs,!1),[t.urlInternal?r("i",{staticClass:"re-upload-btn el-icon-upload"}):r("i",{staticClass:"upload-btn el-icon-upload"})]),t._v(" "),t.urlInternal&&t.deleteButton&&!t.$attrs.disabled?r("el-popover-dialog",t._b({staticClass:"icon-delete",attrs:{"button-show":!1},on:{confirm:t.deleteConfirm}},"el-popover-dialog",t.$attrs,!1),[r("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})]):t._e(),t._v(" "),t.input?r("el-input",t._g({attrs:{placeholder:t.$attrs.placeholder||"文件链接地址",disabled:t.$attrs.disabled,readonly:t.readonlyInternal},on:{blur:function(e){return t.setUrl(t.urlInternal)}},model:{value:t.urlInternal,callback:function(e){t.urlInternal=e},expression:"urlInternal"}},t.$listeners)):t._e(),t._v(" "),t.tip?r("div",{staticClass:"tip"},[t._v(t._s(t.tip))]):t._e(),t._v(" "),t._t("default")],2)};r._withStripped=!0;var o=n(0),i=n(5),a=n.n(i),l=n(6),s=n.n(l),u=n(7),c=n.n(u),p={name:"ElSingleUpload",components:{"el-progress":o.Progress,"el-upload":o.Upload,"el-input":o.Input,ElPopoverDialog:c.a},inheritAttrs:!1,props:{upload:{required:!0,type:Function},resPathOfUrl:{type:String,default:"data.url"},url:{type:null,required:!0},checkUpload:Function,error:Function,deleteButton:{type:Boolean,default:!0},view:{type:Boolean,default:!0},size:{type:Number,default:void 0},imageDimensions:{validator:function(e){return/^\[object Object\]$/.test(Object.prototype.toString.call(e))&&Object.prototype.hasOwnProperty.call(e,"width")&&Object.prototype.hasOwnProperty.call(e,"height")},type:Object,default:function(){return{width:void 0,height:void 0}}},accept:{validator:function(e){return""===e||/^(image|audio|video|text|application|\.)/.test(e)},type:String,default:""},input:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},drag:{type:Boolean,default:!0},errorUploadEmptyUrl:{type:Boolean,default:!1},tip:{type:String,default:""}},data:function(){return{file:null,urlInternal:"",percentage:100,emptyUrl:!1,readonlyInternal:!1}},watch:{url:{immediate:!0,handler:function(e){this.emptyUrl=!0,this.setUrl(e),this.emptyUrl=this.errorUploadEmptyUrl}},errorUploadEmptyUrl:{immediate:!0,handler:function(e){this.emptyUrl=e}},readonly:{immediate:!0,handler:function(e){this.readonlyInternal=e}}},computed:{acceptClassName:function(){return/^\.(png|jpe?g|gif|svg|webp)/.test(this.accept)||/^image/.test(this.accept)?"image":/^\.(ogg|mp3|wav|flac|aac)/.test(this.accept)||/^audio/.test(this.accept)?"audio":/^\.(mp4|webm)/.test(this.accept)||/^video/.test(this.accept)?"video":""}},methods:{empty:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.urlInternal="",this.$refs.upload&&this.$refs.upload.clearFiles()),this.file=null,this.$emit("file",null),this.$emit("media-duration",""),this.$emit("media",null),this.$emit("update:url",this.urlInternal)},setUrl:function(e){"[object String]"===Object.prototype.toString.call(e)&&(/^https?:\/\//i.test(e)?this.urlInternal=e:this.empty(this.emptyUrl),this.urlInternal!==this.url&&this.$emit("update:url",this.urlInternal),this.$nextTick((function(){var e=this;if(this.$refs.media){var t=function(){e.$emit("media-duration",e.$refs.media.duration),e.$emit("media",e.$refs.media)};this.$refs.media.addEventListener("loadedmetadata",(function(){t()}),!0),this.$refs.media.readyState>0&&t(),this.$refs.media.addEventListener("error",(function(t){e.$emit("media-load-error",t)}),!0)}})))},beforeUpload:function(e){var t=this;return this.readonlyInternal=!0,this.file=e,this.$emit("file",e),this.$emit("before-upload",e),this.checkUpload?this.checkUpload(e):new Promise((function(n,r){a()(e,t.accept,t.size,t.imageDimensions.width,t.imageDimensions.height).then((function(e){e.validation?n():(e.message&&o.Message.error(e.message),t.readonlyInternal=t.readonly,t.$emit("validation-error"),r())}))}))},requestUpload:function(e){return this.$emit("request-upload",e),this.upload(e)},progressUpload:function(e,t){this.$emit("progress-upload",e);var n=parseInt(e.percent);"[object Number]"===Object.prototype.toString.call(e.percent)&&(n=e.percent),n>=100&&(n=99),this.percentage=n},successUpload:function(e){this.setUrl(s()(e,this.resPathOfUrl)),this.percentage=100,this.$emit("success-upload",e),this.finishUpload()},errorUpload:function(e,t){this.percentage=100,this.error?this.error(e,t):o.Message.error("上传失败"),this.empty(this.emptyUrl),this.$emit("error-upload",{err:e,file:t}),this.finishUpload()},finishUpload:function(){this.readonlyInternal=this.readonly,this.$emit("finish-upload")},deleteConfirm:function(){this.$emit("delete-confirm"),this.empty()}}},d=(n(9),n(2)),f=Object(d.a)(p,r,[],!1,null,null,null);f.options.__file="src/ElSingleUpload.vue";t.default=f.exports},function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],l={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,s=0,u=!1,c=function(){},p=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,o){u=n,p=o||{};var a=r(e,t);return g(a),function(t){for(var n=[],o=0;o<a.length;o++){var l=a[o];(s=i[l.id]).refs--,n.push(s)}t?g(a=r(e,t)):a=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(v(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(v(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(u)return c;r.parentNode.removeChild(r)}if(f){var o=s++;r=l||(l=m()),t=x.bind(null,r,o,!1),n=x.bind(null,r,o,!0)}else r=m(),t=_.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var b,y=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),p.ssrId&&e.setAttribute(d,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}]);